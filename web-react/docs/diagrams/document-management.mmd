flowchart TD
  Start((Enter Documentos page)) -->  ClickUpload["Click 'Subir Documento' or QuickAction"]
  ClickUpload -->  SelectFile["Select file + enter metadata (type)"]
  SelectFile -->  Validate{"File format & size valid?"}
  Validate -- No -->  ShowInvalid["Show invalid file message"]
  Validate -- Yes -->  Upload["POST /api/documents/upload (form-data)"]
  Upload -->  ServerResp{Server Response}
  ServerResp -- 201 -->  Created["Document created (status: pending)"]
  Created -->  Notify["Notify reviewer"]
  Notify -->  End((End))
  ServerResp -- 400/422 -->  ShowError["Show server validation error"]
  Created -->  ReviewerDecision["Reviewer approves or rejects"]
  ReviewerDecision -- Approve -->  Approve["PATCH /api/documents/:id/status -> approved"]
  ReviewerDecision -- Reject -->  Reject["PATCH /api/documents/:id/status -> rejected (reason)"]
